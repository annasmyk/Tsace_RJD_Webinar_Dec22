\PassOptionsToPackage{unicode=true}{hyperref} % options for packages loaded elsewhere
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[10pt,xcolor=table,color={dvipsnames,usenames},ignorenonframetext,usepdftitle=false,french]{beamer}
\setbeamertemplate{caption}[numbered]
\setbeamertemplate{caption label separator}{: }
\setbeamercolor{caption name}{fg=normal text.fg}
\beamertemplatenavigationsymbolsempty
\usepackage{caption}
\captionsetup{skip=0pt,belowskip=0pt}
%\setlength\abovecaptionskip{-15pt}
\usepackage{lmodern}
\usepackage{amssymb,amsmath,mathtools,multirow}
\usepackage{float,hhline}
\usepackage{tikz}
\usepackage{mathtools}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provides euro and other symbols
\else % if luatex or xelatex
  \usepackage{unicode-math}
  \defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
\fi
\usetheme[coding=utf8,language=english,
,titlepagelogo=img/SACElogo
]{TorinoTh}
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage[]{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\IfFileExists{parskip.sty}{%
\usepackage{parskip}
}{% else
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
}
\usepackage{hyperref}
\hypersetup{
            pdfauthor={Anna Smyk and Tanguy Barthelemy},
            pdfborder={0 0 0},
            breaklinks=true}
\urlstyle{same}  % don't use monospace font for urls
\newif\ifbibliography
\newlength{\cslhangindent}
\setlength{\cslhangindent}{1.5em}
\newlength{\csllabelwidth}
\setlength{\csllabelwidth}{3em}
\newenvironment{CSLReferences}[2] % #1 hanging-ident, #2 entry spacing
 {% don't indent paragraphs
  \setlength{\parindent}{0pt}
  % turn on hanging indent if param 1 is 1
  \ifodd #1 \everypar{\setlength{\hangindent}{\cslhangindent}}\ignorespaces\fi
  % set entry spacing
  \ifnum #2 > 0
  \setlength{\parskip}{#2\baselineskip}
  \fi
 }%
 {}
% Prevent slide breaks in the middle of a paragraph:
\widowpenalties 1 10000
\raggedbottom
\AtBeginPart{
  \let\insertpartnumber\relax
  \let\partname\relax
  \frame{\partpage}
}
\AtBeginSection{
  \ifbibliography
  \else
    \begin{frame}[noframenumbering]{Contents}
    \tableofcontents[currentsection, hideothersubsections]
    \end{frame}
  \fi
}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  %\setlength{\itemsep}{0pt}
  \setlength{\parskip}{0pt}
  }
\setcounter{secnumdepth}{0}

% set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother

\usepackage{dsfont}
\usepackage{stmaryrd}
\usepackage[normalem]{ulem}
\usepackage{fontawesome5}
\usepackage{tikz,pgfplots}
\pgfplotsset{compat=1.17}
\pgfplotsset{samples=100}
\usepackage{animate}
 \usepackage{booktabs}

\usepackage{colortbl}

\DeclareMathOperator{\Cov}{Cov}
\newcommand{\cov}[2]{\Cov\left( #1\,,\,#2 \right)}

\DeclareMathOperator{\e}{e}
\renewcommand{\P}{\mathds{P}} %Apparement \P existe déjà ?
\newcommand\N{\mathds{N}}
\newcommand\R{\mathds{R}}


\newcommand\1{\mathds{1}}
\newcommand{\E}[2][]{{\mathds{E}}_{#1}
  \def\temp{#2}\ifx\temp\empty
  \else
    \left[#2\right]
  \fi
}
\newcommand{\V}[2][]{{\mathds{V}}_{#1}
  \def\temp{#2}\ifx\temp\empty
  \else
    \left[#2\right]
  \fi
}
\newcommand\ud{\,\mathrm{d}}


% blocks
\usepackage{environ}
\usepackage[tikz]{bclogo}

\tikzstyle{titlestyle} =[draw=black!80,fill=black!20, text=black,
 right=10pt, rounded corners]
\mdfdefinestyle{symmaryboxstyle}{
	linecolor=black!80, backgroundcolor = black!5,
	skipabove=\baselineskip, innertopmargin=\baselineskip,
	innerbottommargin=\baselineskip,
	userdefinedwidth=\textwidth,
	middlelinewidth=1.2pt, roundcorner=5pt,
	skipabove={\dimexpr0.5\baselineskip+\topskip\relax},
	frametitleaboveskip=\dimexpr-\ht\strutbox\relax,
	innerlinewidth=0pt,
}
\NewEnviron{summary}{%
\begin{mdframed}[style=symmaryboxstyle]
\vspace{-0.5em}
\BODY
\end{mdframed}
}
\makeatletter
% Open `\noalign` and check for overlay specification:
\def\rowcolor{\noalign{\ifnum0=`}\fi\bmr@rowcolor}
\newcommand<>{\bmr@rowcolor}{%
    \alt#1%
        {\global\let\CT@do@color\CT@@do@color\@ifnextchar[\CT@rowa\CT@rowb}% Rest of original `\rowcolor`
        {\ifnum0=`{\fi}\@gooble@rowcolor}% End `\noalign` and gobble all arguments of `\rowcolor`.
}
% Gobble all normal arguments of `\rowcolor`:
\newcommand{\@gooble@rowcolor}[2][]{\@gooble@rowcolor@}
\newcommand{\@gooble@rowcolor@}[1][]{\@gooble@rowcolor@@}
\newcommand{\@gooble@rowcolor@@}[1][]{\ignorespaces}

\newcommand{\rowc}[1]{\only<#1>{\\\rowcolor{processblue!40}}}
%\newcommand{\rowc}[1]{{\rowcolor<#1>{processblue!30}}
\newcommand{\cellc}[1]{\only<#1>{\cellcolor{processblue!40}}}
\newcommand{\supsp}[1]{\visible<#1>{\\}}

\title{Using JDemetra+ in R: from version 2 to version 3\\
Presentation 3: Wrangling workspaces in R}
\ateneo{TSACE Webinar, Wednesday December 14th 2022}
\author{Anna Smyk and Tanguy Barthelemy}
\date{}


\setrellabel{}

\setcandidatelabel{}

\rel{}
\division{With the collaboration of Alain Quartier-la-tente\\}

\departement{}
\makeatletter
\let\@@magyar@captionfix\relax
\makeatother


\begin{document}
\begin{frame}[plain,noframenumbering]
\titlepage
\end{frame}

\hypertarget{introduction}{%
\section{Introduction}\label{introduction}}

\begin{frame}{Context}
\protect\hypertarget{context}{}
\begin{itemize}
\item
  a workspace is a JD+ specific data structure (xml files) which allows
  to use the GUI and cruncher
\item
  in R we don't need this stucture to run an SA process (cf P2)
\item
  we could think sa processing with JD+ algorithms can happen in two
  disntict worlds

  \begin{itemize}
  \tightlist
  \item
    GUI and cruncher using workspaces OR
  \item
    R functions (without workpaces, TS object or numeric vectors for HF)
  \end{itemize}
\end{itemize}

Still there are benefits in using workspaces and R packages in
conjunction

We will highlight them in the remaining of this presentation
\end{frame}

\hypertarget{using-workspaces-and-r-packages-in-conjuction}{%
\section{Using workspaces and R packages in
conjuction}\label{using-workspaces-and-r-packages-in-conjuction}}

\begin{frame}{Using workspaces and R packages in conjuction}
\protect\hypertarget{using-workspaces-and-r-packages-in-conjuction-1}{}
Two (?) classes of benefits

\begin{itemize}
\item
  instant reading: immersing results in the R world (functions, plots..)
\item
  automating potential manual operations
\end{itemize}

De manière générale, aucune compatibilité entre v2 et v3
\end{frame}

\hypertarget{instant-reading}{%
\section{Instant reading}\label{instant-reading}}

\begin{frame}[fragile]{Instant reading}
v2 : \texttt{RJDemetra::load\_workspace()} --\textgreater{} creation of
RJD object (java object pointer) v3 :
\texttt{rjdemetra3::load\_workspace()} --\textgreater{} readable R
object (list format)
\end{frame}

\hypertarget{automating-operations}{%
\section{Automating operations}\label{automating-operations}}

\begin{frame}{Automating operations}
On me voit ?
\end{frame}

\begin{frame}{Automating operations on workspaces}
\protect\hypertarget{automating-operations-on-workspaces}{}
Goal: to produce and to reproduce the workspace structure without the
JDemetra+ graphical interface but with R and keeping the read, write and
refresh properties both by the graphical interface and by the cruncher.

Cruncher and GUI react the same way to a WS : - if the structure is not
good : they won't be able to read anything - if the structure is minimal
: they will manage to only read and compute the SA-items - if the ws are
well-structured and have all the necessairy information : they will
succeed to read, compute and refresh with the chosen policy our
sa-items.
\end{frame}

\begin{frame}{Outline of the automation}
\protect\hypertarget{outline-of-the-automation}{}
Presentation in v2

operations - creation - export / write - modifications / dynamic update
\end{frame}

\begin{frame}[fragile]{Creation}
\protect\hypertarget{creation}{}
\texttt{RJDemetra::new\_workspace()} : creation of workspace
\texttt{RJDemetra::new\_multiprocessing()} : creation of multiprocessing

To create a spec, there is several functions :
\texttt{RJDemetra::x13\_spec(),\ RJDemetra::tramoseats\_spec(),\ ...}
and also in v3 with packages \texttt{rjd3tramoseats} and
\texttt{rjd3x13}

To create an SA-item, there is several functions depending on the chosen
spec : \texttt{RJDemetra::x13(),\ RJDemetra::tramoseats(),\ ...} and
also in v3 with packages \texttt{rjd3tramoseats} and \texttt{rjd3x13}

Finally you can use \texttt{RJDemetra::add\_sa\_item()} to add the
created SA-item to a multprocessing in your workspace
\end{frame}

\begin{frame}[fragile]{Export}
\protect\hypertarget{export}{}
The function \texttt{RJDemetra::save\_workspace()} export and create a
physical workspace with a structure in folder and xml files. But it only
creates what the previous functions constructed.

For example, the function \texttt{RJDemetra::x13()}
\end{frame}

\begin{frame}{Dynamic update}
\protect\hypertarget{dynamic-update}{}
Attention, the exported workspace
\end{frame}

\begin{frame}{Automating operations on series}
\protect\hypertarget{automating-operations-on-series}{}
(``functions that operate on one workpace'') - series object - spec -
meta data in v2 RJDemetra in v3 rjdworkpace and other rjd3\ldots{}
\end{frame}

\begin{frame}{Merging workspaces}
\protect\hypertarget{merging-workspaces}{}
(``functions that operate two workpaces'') context: annual rev

in v2 RJDemetra in v3 rjdworkpace and other rjd3\ldots{}
\end{frame}

\begin{frame}{Preserving desirable properties ?}
\protect\hypertarget{preserving-desirable-properties}{}
two features to preserve - GUI readable - Crunchable

When are the preserved and when not ?
\end{frame}

\hypertarget{conclusion}{%
\section{Conclusion}\label{conclusion}}

\begin{frame}{Summary of functionnalities}
\protect\hypertarget{summary-of-functionnalities}{}
\begin{itemize}
\item
  available
\item
  missing
\end{itemize}
\end{frame}

\begin{frame}{Package's perimeter and ressources}
\protect\hypertarget{packages-perimeter-and-ressources}{}
\begin{itemize}
\tightlist
\item
  V2 vs V3: not clear cut yet not many features are available in sheer
  v3 rjdworkspace (predating v3) functions will be (partly) integrated
  into rjdemetra3 package
\end{itemize}
\end{frame}

\end{document}
